{"version":3,"sources":["./src/app/pages/tabs/modulos/modulos.page.html","./src/app/pages/tabs/modulos/modulos.module.ts","./src/app/pages/tabs/modulos/modulos.page.scss","./src/app/pages/tabs/modulos/modulos.page.ts","./src/app/services/fcm/fcm.service.ts"],"names":[],"mappings":"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","file":"modulos-modulos-module-es2015.js","sourcesContent":["module.exports = \"<ion-header class=\\\"custom-navbar\\\">\\n    <ion-toolbar color=\\\"dark\\\">\\n        <ion-title>\\n            {{appName}}\\n            <a class=\\\"logout-button\\\" (click)=\\\"logout()\\\">\\n                <ion-icon name=\\\"exit\\\"></ion-icon>\\n            </a>\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-color-dark\\\" color=\\\"#FFF\\\">\\n    <ion-card class=\\\"ion-color-light login-container\\\" color=\\\"#FFF\\\" *ngFor=\\\"let sensor of listSensores\\\">\\n        <ion-card-header>\\n            <ion-card-title>\\n                <b>{{sensor.apelido || \\\"Módulo \\\" + sensor._id.substr(0, 7)}}</b>\\n            </ion-card-title>\\n        </ion-card-header>\\n\\n        <ion-card-content>\\n            <ion-list lines=\\\"none\\\">\\n                <ion-item class=\\\"activated\\\">\\n                    <ion-icon name=\\\"star\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label>{{sensor._id}}</ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"activated\\\">\\n                    <ion-icon name=\\\"wifi\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label>{{sensor.macSensor}}</ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"activated\\\">\\n                    <ion-icon name=\\\"time\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label>{{converteData(sensor.ultimaComunicacao) || 'Sem dados'}}</ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"activated\\\">\\n                    <ion-icon name=\\\"alert\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label>{{sensor.kwAlerta || 'Sem dados de'}} KW limite</ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"activated\\\">\\n                    <ion-icon [color]=\\\"sensor.limiteAlerta != null && sensor.limiteAlerta < calculaConsumo(sensor.consumo) ? 'danger' : 'success'\\\" name=\\\"cash\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label>\\n                        {{paraReais(calculaConsumo(sensor.consumo))}}\\n                    </ion-label>\\n                </ion-item>\\n                <ion-item class=\\\"activated\\\">\\n                    <ion-icon name=\\\"alert\\\" slot=\\\"start\\\"></ion-icon>\\n                    <ion-label>\\n                        {{paraReais(sensor.limiteAlerta)}}\\n                        <ion-badge color=\\\"danger\\\" *ngIf=\\\"sensor.limiteAlerta != null && sensor.limiteAlerta < calculaConsumo(sensor.consumo)\\\">\\n                            Consumo atual {{paraReais(calculaConsumo(sensor.consumo))}}.\\n                        </ion-badge>\\n                    </ion-label>\\n                </ion-item>\\n            </ion-list>\\n        </ion-card-content>\\n\\n        <ion-row padding float-right>\\n            <ion-button expand=\\\"block\\\" color=\\\"warning\\\" (click)=\\\"abrirAlertEditLimitePico(sensor)\\\">\\n                <ion-icon name=\\\"create\\\" slot=\\\"start\\\"></ion-icon>\\n                <span>Limite Pico</span>\\n            </ion-button>\\n            <ion-button expand=\\\"block\\\" color=\\\"warning\\\" (click)=\\\"abrirAlertEditLimite(sensor)\\\">\\n                <ion-icon name=\\\"create\\\" slot=\\\"start\\\"></ion-icon>\\n                <span>Limite</span>\\n            </ion-button>\\n            <ion-button expand=\\\"block\\\" color=\\\"success\\\" (click)=\\\"abrirAlertEditApelido(sensor)\\\">\\n                <ion-icon name=\\\"create\\\" slot=\\\"start\\\"></ion-icon>\\n                <span>Apelido</span>\\n            </ion-button>\\n            <ion-button expand=\\\"block\\\" (click)=\\\"detalharSensor(sensor)\\\">\\n                <ion-icon name=\\\"eye\\\" slot=\\\"start\\\"></ion-icon>\\n                <span>Detalhar</span>\\n            </ion-button>\\n        </ion-row>\\n    </ion-card>\\n</ion-content>\\n\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ModulosPage } from './modulos.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: ModulosPage }])\n  ],\n  declarations: [ModulosPage]\n})\nexport class Tab1PageModule {}\n","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n\\n.logout-button {\\n  float: right;\\n  color: #FFF;\\n  text-decoration: none;\\n}\\n\\nion-content {\\n  --ion-color-base: #3f3f40 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RoaWFnb2NvcnRlei9Qcm9qZXRvcy9yZWRlcy9yZWRlc19paS9mcm9udC1hcHAtY29uc3Vtby1lbmVyZ2V0aWNvL3NyYy9hcHAvcGFnZXMvdGFicy9tb2R1bG9zL21vZHVsb3MucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy90YWJzL21vZHVsb3MvbW9kdWxvcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0FDQ0Y7O0FERUE7RUFDRSxvQ0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9tb2R1bG9zL21vZHVsb3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4ubG9nb3V0LWJ1dHRvbiB7XG4gIGZsb2F0OiByaWdodDtcbiAgY29sb3I6ICNGRkY7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuaW9uLWNvbnRlbnQge1xuICAtLWlvbi1jb2xvci1iYXNlOiAjM2YzZjQwICFpbXBvcnRhbnQ7XG59XG4iLCIud2VsY29tZS1jYXJkIGltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5sb2dvdXQtYnV0dG9uIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBjb2xvcjogI0ZGRjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG5pb24tY29udGVudCB7XG4gIC0taW9uLWNvbG9yLWJhc2U6ICMzZjNmNDAgIWltcG9ydGFudDtcbn0iXX0= */\"","import {Component, OnInit} from '@angular/core';\nimport {AppComponent} from \"../../../app.component\";\nimport {WebservicesService} from \"../../../services/webservices/webservices.service\";\nimport {AlertService} from \"../../../services/alert/alert.service\";\nimport {Router} from \"@angular/router\";\nimport {tap} from \"rxjs/operators\";\nimport {FcmService} from \"../../../services/fcm/fcm.service\";\nimport {Platform, ToastController} from \"@ionic/angular\";\nimport {LocalNotifications} from '@ionic-native/local-notifications/ngx';\nimport {StorageService} from \"../../../services/storage/storage.service\";\n\n@Component({\n    selector: 'tab-modulos',\n    templateUrl: 'modulos.page.html',\n    styleUrls: ['modulos.page.scss']\n})\nexport class ModulosPage implements OnInit {\n\n    appName = AppComponent.appName;\n    selectedSensor: any;\n    listSensores: any;\n    consumo: any;\n\n    constructor(private _ws: WebservicesService, private _alertService: AlertService, private _nav: Router, private _fcm: FcmService,\n                _toastCtrl: ToastController, private _platform: Platform, private _localNotifications: LocalNotifications, private _storageService: StorageService) {\n    }\n\n    async ngOnInit(): Promise<any> {\n        await this.initializePage();\n    }\n\n    async initializePage() {\n        this.consumo = await this._storageService.getValorKW();\n\n        // Registrando o serviço do firebase\n        this._platform.ready().then(() => {\n            // Get an FCM token\n            this._fcm.getToken();\n\n            // Listen to incoming messages\n            this._fcm.listenToNotifications().pipe(\n                tap(msg => {\n                    this._localNotifications.cancelAll();\n                    this._localNotifications.schedule({\n                        id: 1,\n                        title: msg.title,\n                        text: msg.body\n                    });\n                })\n            ).subscribe();\n        });\n\n        const loading = await this._alertService.defaultLoading(\"Carregando...\");\n\n        this._ws.listarSensoresCliente().then(resp => resp.toPromise()).then((resposta: any) => {\n            if (resposta.isAuthenticated) {\n                this.listSensores = resposta.sensores;\n            } else {\n                this._storageService.saveJWT(undefined).then((res) => {\n                    this._alertService.defaultAlert(\"Oops!\", null, \"Sua sessão expirou, faça o login novamente!\", [\"Vamos lá!\"]);\n                    this._nav.navigate(['/']);\n                });\n            }\n\n            loading.dismiss();\n        });\n    }\n\n    abrirAlertEditApelido(sensor) {\n        this.selectedSensor = sensor;\n\n        const title = 'Editar apelido do módulo';\n        const inputs = [{\n            name: 'apelido',\n            type: 'text',\n            placeholder: 'Apelido',\n            value: this.selectedSensor.apelido\n        }];\n        const buttons = [{\n            text: 'Cancelar',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n                console.log('Confirm Cancel');\n            }\n        }, {\n            text: 'Alterar',\n            handler: (content) => {\n                this.salvarNovoApelido(content.apelido);\n            }\n        }];\n        this._alertService.promptAlert(title, inputs, buttons);\n    }\n\n    abrirAlertEditLimite(sensor) {\n        this.selectedSensor = sensor;\n\n        const title = 'Editar limite para alerta do módulo (em R$)';\n        const inputs = [{\n            name: 'limiteAlerta',\n            type: 'number',\n            placeholder: 'Limite',\n            value: this.selectedSensor.limiteAlerta\n        }];\n        const buttons = [{\n            text: 'Cancelar',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n                console.log('Confirm Cancel');\n            }\n        }, {\n            text: 'Alterar',\n            handler: (content) => {\n                this.salvarNovoLimite(content.limiteAlerta);\n            }\n        }];\n        this._alertService.promptAlert(title, inputs, buttons);\n    }\n\n    abrirAlertEditLimitePico(sensor) {\n        this.selectedSensor = sensor;\n\n        const title = 'Editar limite para o modulo desligar (pico Kw/h)';\n        const inputs = [{\n            name: 'kwAlerta',\n            type: 'number',\n            placeholder: 'Limite',\n            value: this.selectedSensor.kwAlerta\n        }];\n        const buttons = [{\n            text: 'Cancelar',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n                console.log('Confirm Cancel');\n            }\n        }, {\n            text: 'Alterar',\n            handler: (content) => {\n                this.salvarNovoLimitePico(content.kwAlerta);\n            }\n        }];\n        this._alertService.promptAlert(title, inputs, buttons);\n    }\n\n    salvarNovoApelido(apelido: string) {\n        this.selectedSensor.apelido = apelido;\n        this._ws.alterarSensorApelido({sensor: this.selectedSensor}).then(res => res.toPromise()).then((response: any) => {\n            if (response.isAuthenticated) {\n                let header = \"Oops!\";\n                let message = \"Ops, ocorreu um problema ao salvar os dados. Tente novamente mais tarde!\";\n                let button = \"Tentar novamente\";\n                if (response.success) {\n                    header = \"Sucesso!\";\n                    message = `Apelido '${apelido}' salvo com sucesso!`;\n                    button = \"Ok\";\n                }\n\n                this._alertService.defaultAlert(header, null, message, [button]);\n            } else {\n                this._storageService.saveJWT(undefined).then((res) => {\n                    this._alertService.defaultAlert(\"Oops!\", null, \"Sua sessão expirou, faça o login novamente!\", [\"Vamos lá!\"]);\n                    this._nav.navigate(['/']);\n                });\n            }\n        });\n    }\n\n    salvarNovoLimite(limite: string) {\n        this.selectedSensor.limiteAlerta = limite;\n        this._ws.alterarSensorLimite({sensor: this.selectedSensor}).then(res => res.toPromise()).then((response: any) => {\n            if (response.isAuthenticated) {\n                let header = \"Oops!\";\n                let message = \"Ops, ocorreu um problema ao salvar os dados. Tente novamente mais tarde!\";\n                let button = \"Tentar novamente\";\n                if (response.success) {\n                    header = \"Sucesso!\";\n                    message = `Limite de '${this.paraReais(limite)}' salvo com sucesso!`;\n                    button = \"Ok\";\n                }\n\n                this._alertService.defaultAlert(header, null, message, [button]);\n            } else {\n                this._storageService.saveJWT(undefined).then((res) => {\n                    this._alertService.defaultAlert(\"Oops!\", null, \"Sua sessão expirou, faça o login novamente!\", [\"Vamos lá!\"]);\n                    this._nav.navigate(['/']);\n                });\n            }\n        });\n    }\n\n    salvarNovoLimitePico(limite: string) {\n        this.selectedSensor.kwAlerta = limite;\n        this._ws.alterarSensorLimitePico({sensor: this.selectedSensor}).then(res => res.toPromise()).then((response: any) => {\n            if (response.isAuthenticated) {\n                let header = \"Oops!\";\n                let message = \"Ops, ocorreu um problema ao salvar os dados. Tente novamente mais tarde!\";\n                let button = \"Tentar novamente\";\n                if (response.success) {\n                    header = \"Sucesso!\";\n                    message = `Limite de '${limite}' salvo com sucesso!`;\n                    button = \"Ok\";\n                }\n\n                this._alertService.defaultAlert(header, null, message, [button]);\n            } else {\n                this._storageService.saveJWT(undefined).then((res) => {\n                    this._alertService.defaultAlert(\"Oops!\", null, \"Sua sessão expirou, faça o login novamente!\", [\"Vamos lá!\"]);\n                    this._nav.navigate(['/']);\n                });\n            }\n        });\n    }\n\n    detalharSensor(sensor: any) {\n        this._nav.navigate([\"/modulo/\", sensor.macSensor, sensor.apelido]);\n    }\n\n    converteData(data: string) {\n        return this._alertService.converteData(data);\n    }\n\n    calculaConsumo(qtdKw) {\n        console.log('qtdKw', qtdKw);\n        console.log('this.consumo', this.consumo);\n        return this.consumo * qtdKw;\n    }\n\n    paraReais(valor) {\n        return `R$ ${parseFloat(valor).toFixed(2).toString().replace('.', ',')}`\n    }\n\n    async logout() {\n        await this._storageService.saveJWT(null);\n        this._nav.navigate(['/']);\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {Platform} from \"@ionic/angular\";\nimport {FirebaseX} from \"@ionic-native/firebase-x/ngx\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {WebservicesService} from \"../webservices/webservices.service\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FcmService {\n\n    // _URL_WEBSERVICES = \"http://cortezit.me/api/\";\n    _URL_WEBSERVICES = \"http://192.168.0.5:3000/api/\";\n    // _URL_WEBSERVICES = \"http://localhost:3000/api/\";\n\n    constructor(private platform: Platform,\n                public firebaseNative: FirebaseX,\n                private _ws: WebservicesService) {\n        console.log('Hello FcmProvider Provider');\n    }\n\n    // Get permission from the user\n    async getToken() {\n        let token;\n        console.info('this.platform-> ', this.platform);\n        if (this.platform.is('android')) {\n            token = await this.firebaseNative.getToken();\n        }\n\n        console.log('token', token);\n        const sendObj = {\n            token: token\n        };\n        this._ws.storeToken(sendObj).then(resp => resp.toPromise()).then((res) => {\n            console.log(res);\n        });\n    }\n\n    // Listen to incoming FCM messages\n    listenToNotifications() {\n        return this.firebaseNative.onMessageReceived();\n        // return this.firebaseNative.onNotificationOpen()\n    }\n}\n"],"sourceRoot":""}